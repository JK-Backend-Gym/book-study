# 2장. 개략적인 규모 추정
* 보편적으로 통용되는 성능 수치 상에서 추정치 계산
* **어떤 설계가 요구사항에 부합할지 결정하기 위해 규모를 추정해야 한다.**

---
## 1. 2의 제곱수
* 데이터의 최소 단위 : 8bit, 1byte
  * ASCII 문자 1개가 차지하는 메모리 크기가 1byte (한글은 2byte)
* 데이터 용량별 근사치


| 용량  | 2의 x 제곱 | 근사치             |
|:----|:--------|:----------------|
| 1KB | 10      | 1천(10의 3제곱)     |
| 1MB | 20      | 1백만(10의 6제곱)    |
| 1GB | 30      | 10억(10의 9제곱)    |
| 1TB | 40      | 1조(10의 12제곱)    |
| 1PB | 50      | 1000조(10의 15제곱) |
* 실제로 2의 10제곱은 1024고, 커질수록 차이가 날 수 있지만 10의 단위로 계산하는게 편하므로 10의 단위로 계산한다.
* Q: 매일 1000명의 사용자가 10KB의 사진을 올린다면 필요한 저장공간은?
  * A: 10의 3제곱 x 10의 3제곱(1KB) * 10 = 10의 7제곱 -> 10MB

---
## 2. Latency 수치

| 작업                         | Latency  |
|:---------------------------|:---------|
| Memory 1MB Sequential Read | 3마이크로초   |
| SSD Random Read            | 16마이크로초  |
| SSD 1MB Sequential Read    | 49마이크로초  |
| Disk 1MB Sequential Read   | 825마이크로초 |
| Disk Seek                  | 2ms      |
| 동일 데이터 센터 내의 패킷 왕복 Latency | 500마이크로  |
| 한국-미국 패킷 왕복 Latency        | 약 200ms  |
* 메모리보다 디스크가 훨씬 느리다.
* Disk Seek은 최대한 피해야 한다.
  * 메모리 캐싱
  * Random I/O 대신 Sequential I/O 발생하도록
* 데이터를 네트워크로 보낼 때 최대한 압축하라.
  * API 응답 값을 캐싱하거나 응답할 때, Latency를 줄이려면 압축 알고리즘 사용
* 다른 지역간의 데이터 전송은 Latency가 크다.

---
### 3. 가용성 수치
* 일반적으로 99% ~ 100% 사이의 수치


| 가용률 | 하루당 장애시간 | 주당 장애시간 | 개월당 장애시간 | 연간 장애시간 |
| :--- | :--- | :--- | :--- | :--- |
| **99%** | 14.40분 | 1.68시간 | 7.31시간 | 3.65일 |
| **99.9%** | 1.44분 | 10.08분 | 43.83분 | 8.77시간 |
| **99.99%** | 8.64초 | 1.01분 | 4.38분 | 52.60분 |
| **99.999%** | 864.00밀리초 | 6.05초 | 26.30초 | 5.26분 |
| **99.9999%** | 86.40밀리초 | 604.80밀리초 | 2.63초 | 31.56초 |
