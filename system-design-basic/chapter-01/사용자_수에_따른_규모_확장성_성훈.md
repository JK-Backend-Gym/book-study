# 1ì¥ ì‚¬ìš©ì ìˆ˜ì— ë”°ë¥¸ ê·œëª¨ í™•ì¥ì„±

* í•œ ëª…ì˜ ì‚¬ìš©ìì—ì„œ ì‹œì‘í•´ì„œ ìˆ˜ë°±ë§Œ ì‚¬ìš©ìë¥¼ ì§€ì›í•˜ëŠ” ì‹œìŠ¤í…œì˜ ì„¤ê³„ë¥¼ í•´ë³´ì.

## ëª©í‘œ
* ê·œëª¨ í™•ì¥ì„±(scalability)ê³¼ ê´€ë ¨ëœ ì„¤ê³„ë¥¼ í‘¸ëŠ”ë° ì“°ì´ëŠ” ìœ ìš©í•œ ì§€ì‹ í•™ìŠµ!
  * ì‚¬ìš©ìê°€ í™•ëŒ€ë  ë•Œ ì–´ë– í•œ ìš”ì†Œë¥¼ ê³ ë ¤í•´ì•¼ í•˜ëŠ”ê°€? 

----

## ë‹¨ì¼ ì„œë²„
* ì†Œìˆ˜ì˜ ì‚¬ìš©ìë§Œ ì‚¬ìš©í•˜ëŠ” ì„œë¹„ìŠ¤ëŠ” ë‹¨ì¼ ì„œë²„ë¡œ ì¶©ë¶„í•˜ë‹¤.
  * **ëª¨ë“  ì»´í¬ë„ŒíŠ¸ê°€ ë‹¨ 1ëŒ€ì˜ ì„œë²„ì—ì„œë§Œ ì‹¤í–‰ë˜ëŠ” ì‹œìŠ¤í…œ**
 
```mermaid
graph TD
    %% 1. ì»´í¬ë„ŒíŠ¸ ì •ì˜ (ë‚´ìš©ë§Œ ì‘ì„±)
    Client["ğŸ“± Client<br/>(Browser / Mobile)"]
    DNS["ğŸŒ DNS Server"]
    Web["ğŸ–¥ï¸ Web Server"]

    %% 2. Flow ì—°ê²°
    Client --"1. ë„ë©”ì¸ ì§ˆì˜"--> DNS
    DNS --"2. IP ë°˜í™˜"--> Client
    Client --"3. HTTP ìš”ì²­ (IP)"--> Web
    Web --"4. HTTP ì‘ë‹µ"--> Client

    %% 3. ìŠ¤íƒ€ì¼ ì •ì˜ (ìƒ‰ìƒ ì„¤ì •)
    classDef clientFill fill:#E3F2FD,stroke:#1565C0,stroke-width:2px;
    classDef dnsFill fill:#FFF9C4,stroke:#FBC02D,stroke-width:2px;
    classDef webFill fill:#E8F5E9,stroke:#2E7D32,stroke-width:2px;

    %% 4. ìŠ¤íƒ€ì¼ ì ìš© (ë…¸ë“œì— ìƒ‰ìƒ ì…íˆê¸°)
    class Client clientFill;
    class DNS dnsFill;
    class Web webFill;
```
* Clientê°€ DNSë¡œ IPë¥¼ ì–»ê³ , Web Serverì— ìš”ì²­í•˜ì—¬ ì›í•˜ëŠ” Response (HTML í˜ì´ì§€ or JSON Reponse) ì‘ë‹µ

| ì¥ì  | ë‹¨ì  |
| :--- | :--- |
| 1. Web Server 1ëŒ€ì˜ ìµœì†Œ ì¸í”„ë¼ ë¹„ìš©ìœ¼ë¡œ ìš´ì˜í•  ìˆ˜ ìˆë‹¤. | 1. ì‚¬ìš©ì ìš”ì²­/ì‘ë‹µ ì²˜ë¦¬ ê³„ì¸µê³¼ ë¹„ì¦ˆë‹ˆìŠ¤ë¥¼ ì²˜ë¦¬í•˜ê³  ë°ì´í„°ë¥¼ ê´€ë¦¬í•˜ëŠ” ê³„ì¸µì´ ì„ì—¬ ìˆë‹¤. <br/> ë”°ë¼ì„œ, í™•ì¥ ì‹œì—ë„ ë¹„íš¨ìœ¨ì ìœ¼ë¡œ ëª¨ë“  ë¡œì§ì„ í™•ì¥í•´ì•¼ í•œë‹¤. ë³€ê²½ì— ìœ ì—°í•˜ì§€ ëª»í•˜ë‹¤.|  


----

## ë°ì´í„°ë² ì´ìŠ¤
* ì´ì „ ì•„í‚¤í…ì³ì—ì„œ DB ë¡œì§ë§Œ ë‹´ë‹¹í•˜ëŠ” ì„œë²„ë¥¼ ë¶„ë¦¬

```mermaid
graph TD
    %% 1. ì»´í¬ë„ŒíŠ¸ ì •ì˜
    Client["ğŸ“± Client<br/>(Browser / Mobile)"]
    DNS["ğŸŒ DNS Server"]
    Web["ğŸ–¥ï¸ Web Server"]
    DB[("ğŸ—„ï¸ Database")]

    %% 2. Flow ì—°ê²°
    %% DNS ì¡°íšŒ
    Client --"1. ë„ë©”ì¸ ì§ˆì˜"--> DNS
    DNS --"2. IP ë°˜í™˜"--> Client

    %% ì›¹/DB ìš”ì²­
    Client --"3. HTTP ìš”ì²­ (IP)"--> Web
    Web --"4. ë°ì´í„° ì½ê¸°/ì“°ê¸°"--> DB
    DB --"5. ë°ì´í„° ë°˜í™˜"--> Web
    Web --"6. HTTP ì‘ë‹µ"--> Client

    %% 3. ìŠ¤íƒ€ì¼ ì •ì˜
    classDef clientFill fill:#E3F2FD,stroke:#1565C0,stroke-width:2px;
    classDef dnsFill fill:#FFF9C4,stroke:#FBC02D,stroke-width:2px;
    classDef webFill fill:#E8F5E9,stroke:#2E7D32,stroke-width:2px;
    classDef dbFill fill:#FFCCBC,stroke:#D84315,stroke-width:2px;

    %% 4. ìŠ¤íƒ€ì¼ ì ìš©
    class Client clientFill;
    class DNS dnsFill;
    class Web webFill;
    class DB dbFill;
```
| ì¥ì  | ë‹¨ì  |
| :--- | :--- |
| 1. DB Serverê°€ ë¶„ë¦¬ë˜ì–´ DB ì²˜ë¦¬ íŠ¸ë˜í”½ì´ ë¶„ì‚°ë˜ì–´ ì„œë²„ ë¶€í•˜ê°€ ì¤„ì–´ë“ ë‹¤. <br/> 2. ë³‘ëª©ì´ ìƒê¸°ëŠ” ì§€ì ì„ íŒŒì•…í•˜ë©´ í•´ë‹¹ ì„œë²„ë§Œ í™•ì¥í•˜ì—¬ íš¨ìœ¨ì ìœ¼ë¡œ ì„œë²„ë¥¼ ëŠ˜ë¦´ ìˆ˜ ìˆë‹¤. | 1. DB ê³„ì¸µì„ ì„œë²„ë¡œ ë¶„ë¦¬í–ˆì§€ë§Œ, ì—¬ì „íˆ ì›¹ ê³„ì¸µê³¼ ë¹„ì¦ˆë‹ˆìŠ¤ ì²˜ë¦¬ ê³„ì¸µì´ í˜¼ì¬ë˜ì–´ ìˆë‹¤.|  

* í•´ë‹¹ ì±•í„°ì—ì„œëŠ” Web Serverì™€ Web Application Serverì˜ ë¶„ë¦¬ëŠ” ë‹¤ë£¨ê³  ìˆëŠ” ê²ƒ ê°™ì§€ ì•Šì•„ì„œ, ìš°ì„  ê·¸ë¦¼ ìƒìœ¼ë¡œëŠ” í•©ì³¤ì§€ë§Œ ë¶„ë¦¬ëœ ê²ƒìœ¼ë¡œ íŒë‹¨í•˜ê² ìŒ!

### ì–´ë–¤ DBë¥¼ ì‚¬ìš©í• ê¹Œ?

### RDB vs NoSQL
* ì¼ë°˜ì ìœ¼ë¡œëŠ” RDBë¥¼ ì‚¬ìš©í•˜ê³ , ë‹¤ìŒê³¼ ê°™ì€ ê²½ìš°ì— NoSQLì„ ê³ ë ¤í•œë‹¤.
  * ë°ì´í„°ê°€ Latency ì—†ì´ ì‹¤ì‹œê°„ ì‘ë‹µì´ ìš”êµ¬ë  ë•Œ
  * ë°ì´í„° ìì²´ê°€ ê´€ê³„í˜• ë°ì´í„°ê°€ ì•„ë‹Œ ë¹„ì •í˜• ë°ì´í„°ì¼ ë•Œ!
  * ë°ì´í„°ë¥¼ ë‹¨ìˆœíˆ ì €ì¥í•˜ê³  ì§ë ¬í™”/ì—­ì§ë ¬í™”ë§Œ í•  ë•Œ -> Meteralized View?
  * ëŒ€ëŸ‰ì˜ ë°ì´í„°ë¥¼ ì €ì¥í•´ì•¼ í•  ë•Œ
* **TODO NoSQL í™œìš© ì‚¬ë¡€ ê³µë¶€í•´ì•¼í•¨!** 
* [ì±…ì—ì„œ ë‚˜ì˜¨ NoSQL ë‹¤ì–‘í•œ í™œìš© ì‚¬ë¡€](https://highscalability.com/what-the-heck-are-you-actually-using-nosql-for/)
 
### PostgreSQL
* í˜„ì¬ ì‚¬ë‚´ì—ì„œëŠ” PostgreSQLì„ ì‚¬ìš©í•˜ëŠ”ë°, ì‚¬ìš©í•´ë³´ë©´ì„œ ëŠë‚€ ì¥ë‹¨ì  ê°„ë‹¨ ì •ë¦¬
  * ì¥ì 
    * íŠ¹ì • ìë£Œêµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ì—¬ í…Œì´ë¸”ì„ ì—­ì •ê·œí™” í•  ìˆ˜ ìˆë‹¤. (Array, Json/Jsonb)
    * ì—¬ëŸ¬ Extensionì´ ë§ì´ ì¡´ì¬í•œë‹¤. (pg_cron, pg_partman, ...)
  * ë‹¨ì 
    * insert ì„±ëŠ¥ì´ ì¢‹ì§€ ì•Šë‹¤. (jsonb í•„ë“œê°€ ì¡´ì¬í•˜ë©´ ë” ëŠë¦° ê²ƒ ê°™ë‹¤.)
    * count ì¿¼ë¦¬ ì„±ëŠ¥ ë„ˆë¬´ ì•ˆ ì¢‹ìŒ (í˜ì´ì§• ë¶ˆê°€ëŠ¥í•œ ìˆ˜ì¤€)
   

----

## Scale-Up / Scale-Out
* Scale Upì€ ì˜¤íˆë ¤ í™•ì¥ í•„ìš”ê°€ ì ì„ ë•Œ íš¨ìœ¨ì ì¸ ë°©ë²•
  * ì„œë²„ ìŠ¤í™ì—…ì€ ë¹ ë¥´ê²Œ ì§„í–‰ ê°€ëŠ¥í•˜ê³  ë‹¨ìˆœ.
  * 1ëŒ€ì˜ ì„œë²„ì˜ ë©”ëª¨ë¦¬/CPUë¥¼ ë¬´í•œëŒ€ë¡œ ëŠ˜ë¦¬ëŠ” ê²ƒì€ ë¶ˆê°€ëŠ¥
  * ë˜, SPOFë¡œ ìŠ¤í™ì—…ì„ ë§ì´ í•´ë‘¬ë„ ì„œë²„ê°€ ë‹¤ìš´ë˜ë©´ ë¬´ìš©ì§€ë¬¼
* **ê·¸ë˜ì„œ ì¼ë°˜ì ìœ¼ë¡œ í™•ì¥ì„ ìƒê°í•  ë•Œ ì„œë²„ ê´€ì ì—ì„œëŠ” Scale Outì„ ì¼ë°˜ì ìœ¼ë¡œ ìƒê°í•œë‹¤.**


### ì›¹ ê³„ì¸µì˜ ë¶€í•˜ ë¶„ì‚° 
* Web Serverë¥¼ Scale Outí•´ì„œ ë¶€í•˜ë¥¼ ë¶„ì‚°í–ˆì„ ë•Œ, íŠ¹ì • Web Serverì—ë§Œ íŠ¸ë˜í”½ì´ ëª°ë¦´ ìˆ˜ ìˆë‹¤.
* ì´ëŸ¬í•œ í˜„ìƒì„ ë°©ì§€í•˜ê¸° ìœ„í•´ ì—¬ëŸ¬ Severì— ê³¨ê³ ë£¨ ë¶€í•˜ë¥¼ ë¶„ì‚°í•´ì£¼ëŠ” ê²ƒì´ ë°”ë¡œ **ë¡œë“œ ë°¸ëŸ°ì„œ**
* ++ ë¡œë“œë°¸ëŸ°ì„œë¥¼ ì‚¬ìš©í•˜ë©´ ì‹¤ì œ Web Server ì£¼ì†Œë¥¼ ìˆ¨ê¸°ê³  ë¡œë“œë°¸ëŸ°ì„œì˜ ì£¼ì†Œë¥¼ ë…¸ì¶œí•˜ì—¬ ë³´ì•ˆìƒ Proxy ì´ì ë„ ì¡´ì¬

? : í•­ìƒ ë¡œë“œ ë°¸ëŸ°ì„œë¥¼ ë³¼ ë•Œ ë¡œë“œ ë°¸ëŸ°ì„œì— ì¥ì• ê°€ ë‚˜ë©´ ê²°êµ­ SPOF ê°™ì€ë° ì–´ë–»ê²Œ í•˜ë‚˜? -> ë¡œë“œ ë°¸ëŸ°ì„œë„ Scale Out ã…‹ã…ã…;;


### DB ê³„ì¸µì˜ ë¶€í•˜ ë¶„ì‚° -> ë°ì´í„°ë² ì´ìŠ¤ ë‹¤ì¤‘í™”

* ì¼ë°˜ì ì¸ DBMSê°€ ëª¨ë‘ RW/RO ë¶„ë¦¬ë¥¼ ì§€ì›
  * CUDë¥¼ RW ì„œë²„ì—ë§Œ ì²˜ë¦¬í•˜ê³ , ì €ì¥ëœ ë°ì´í„°ë¥¼ RO ì„œë²„ì— ë³µì œ
  * ReadëŠ” RO ì„œë²„ì—ì„œë§Œ ì²˜ë¦¬
  * ì¼ë°˜ì ì¸ ì„œë¹„ìŠ¤ì—ì„œ Readì˜ ë¹„ì¤‘ì´ CUDì˜ ë¹„ì¤‘ë³´ë‹¤ í¬ê¸° ë•Œë¬¸ì— RO ì„œë²„ë¥¼ ì—¬ëŸ¬ëŒ€ Scale Outí•œë‹¤.
    * RW/ROë¥¼ ëª©ì ì— ë§ê²Œ ë¶„ë¦¬í–ˆê¸° ë•Œë¬¸ì— íš¨ìœ¨ì ìœ¼ë¡œ ì„œë²„ë¥¼ ë¶„ë¦¬í•  ìˆ˜ ìˆë‹¤!

âœ… ë°ì´í„°ë² ì´ìŠ¤ ë‹¤ì¤‘í™” ì´ì  (RW/ROë¥¼ ë¶„ë¦¬í•˜ê³ , RO ì—¬ëŸ¬ëŒ€)
* ì²˜ë¦¬ëŸ‰ : CUDëŠ” RW, ReadëŠ” ROë¡œ ì²˜ë¦¬í•¨ìœ¼ë¡œì¨ ë³‘ë ¬ ì²˜ë¦¬ëŸ‰ì´ ëŠ˜ì–´ë‚œë‹¤.
* ì•ˆì •ì„±(reliability): DB Server ì—¬ëŸ¬ëŒ€ê°€ ì¡´ì¬í•˜ë¯€ë¡œ 1ëŒ€ê°€ Down ë˜ì–´ë„ ë‹¤ë¥¸ DBë¡œ ëŒ€ì²´í•  ìˆ˜ ìˆë‹¤.
  * ë°ì´í„°ë¥¼ ì—¬ëŸ¬ Serverì— ë³µì œí•¨ìœ¼ë¡œì¨ 1ëŒ€ê°€ ì•„ì˜ˆ Down ë˜ì–´ë„ ë°ì´í„°ëŠ” ë³´ì¡´
* ê°€ìš©ì„±(availability): DB Server ì—¬ëŸ¬ëŒ€ê°€ ì¡´ì¬í•˜ë¯€ë¡œ 1ëŒ€ê°€ Down ë˜ì–´ë„ ë‹¤ë¥¸ DBë¡œ ëŒ€ì²´í•  ìˆ˜ ìˆë‹¤.
  * RWê°€ Down ë˜ë©´ RO ì¤‘ 1ëŒ€ê°€ RWë¡œ ìŠ¹ê²©ë˜ì–´ ì²˜ë¦¬
  * ROê°€ ì—¬ëŸ¬ ëŒ€ì¼ ë•Œ, RO 1ëŒ€ê°€ ë‹¤ìš´ë˜ì–´ë„ ë‚˜ë¨¸ì§€ ROë¡œ ì„œë¹„ìŠ¤
  * ROê°€ 1ëŒ€ì¼ ë•Œ ROê°€ ë‹¤ìš´ë˜ì–´ë„ RWê°€ ì²˜ë¦¬

**ğŸ” RW/RO ë¶„ë¦¬ ìš´ì˜ ì‹œ ë¬¸ì œê°€ ë˜ì—ˆë˜ ë¶€ë¶„**
* RW -> ROë¡œ ë°ì´í„° ë³µì œ ì‹œ ì§€ì—°(Lag)ì— ì˜í•œ ë°ì´í„° ì •í•©ì„± ë³´ì¥ X
  * Event Driven êµ¬ì¡°ì—ì„œ Zero-Payloadë¥¼ ì‚¬ìš©í•´ì„œ ì´ë²¤íŠ¸ì—ì„œ ë°›ì€ ë„ë©”ì¸ì˜ APIë¥¼ í˜¸ì¶œí•˜ì—¬ ì •ë³´ë¥¼ ì–»ëŠ” êµ¬ì¡°
  * ì´ë•Œ, ë„ë©”ì¸ì´ ì˜ì†í™”ë˜ì–´ ì €ì¥ ì´ë²¤íŠ¸ ë°œí–‰ -> Consumerê°€ ì†Œë¹„í•˜ì—¬ ë°ì´í„° Read (API í˜¸ì¶œ) -> ROë¡œ ë°ì´í„°ë¥¼ ì½ëŠ”ë°, ì•„ì§ RW-RO ë³µì œê°€ ì•ˆëœ ê²½ìš° ë°œìƒ
    * í•´ê²°ì€, í•´ë‹¹ ë¡œì§ë§Œ RWë¥¼ ë³´ë„ë¡ í•´ì„œ ì²˜ë¦¬  


  
```mermaid
graph TD
    %% 1. ìŠ¤íƒ€ì¼ ì •ì˜
    classDef clientFill fill:#E3F2FD,stroke:#1565C0,stroke-width:2px;
    classDef lbFill fill:#FFF9C4,stroke:#FBC02D,stroke-width:2px;
    classDef webFill fill:#F5F5F5,stroke:#616161,stroke-width:2px;
    classDef dbRwFill fill:#FFCCBC,stroke:#D84315,stroke-width:2px;
    classDef dbRoFill fill:#CFD8DC,stroke:#455A64,stroke-width:2px;

    %% 2. ì»´í¬ë„ŒíŠ¸ ì •ì˜
    Client["ğŸ“± Client"]:::clientFill
    LB["âš–ï¸ Load Balancer"]:::lbFill

    %% ì›¹ ì„œë²„ ì˜ì—­ (Scale-Out)
    subgraph Web_Cluster ["ğŸ–¥ï¸ Web Server Layer"]
        Web1["Web Server 1"]:::webFill
        Web2["Web Server 2"]:::webFill
    end

    %% ë°ì´í„°ë² ì´ìŠ¤ ì˜ì—­ (RW / RO ë¶„ë¦¬)
    subgraph DB_Cluster ["ğŸ—„ï¸ Data Layer"]
        direction TB
        DB_RW[("ğŸ”´ DB (RW)<br/>(Create/Update/Delete)")]:::dbRwFill
        DB_RO[("ğŸ”µ DB (RO)<br/>(Select/Read)")]:::dbRoFill
    end

    %% 3. Flow ì—°ê²°
    Client -->|"1. ìš”ì²­"| LB
    LB -->|"2. ë¶€í•˜ ë¶„ì‚°"| Web1
    LB --> Web2

    %% DB ì ‘ê·¼ ë¡œì§ (CUD vs Read)
    Web1 & Web2 -->|"3. ì“°ê¸° ìš”ì²­ (Insert/Update)"| DB_RW
    Web1 & Web2 -.->|"4. ì½ê¸° ìš”ì²­ (Select)"| DB_RO

    %% ë°ì´í„° ë™ê¸°í™”
    DB_RW ==>|"5. ë°ì´í„° ë³µì œ (Replication)"| DB_RO
```

**ì¼ë°˜ì ìœ¼ë¡œ, ì‚¬ë‚´ì—ì„œë„ ìœ„ì™€ ê°™ì€ ì•„í‚¤í…ì³ë¥¼ ê¸°ë³¸ìœ¼ë¡œ ì‚¬ìš©ì¤‘!**

* ì´ì „ ì•„í‚¤í…ì³ë¡œë¶€í„° ê°œì„ ì 
ğŸ‘ğŸ» Web ê³„ì¸µê³¼ DB ê³„ì¸µì´ ë¶„ë¦¬ë˜ì–´ ì±…ì„ ë¶„ë¦¬ -> ë³‘ëª© ì§€ì ì— ë”°ë¼ íš¨ìœ¨ì ìœ¼ë¡œ ì„œë²„ë¥¼ í™•ì¥í•  ìˆ˜ ìˆë‹¤. (DB ë¶€í•˜ê°€ í¬ë‹¤ë©´ DB Serverë§Œ ëŠ˜ë¦¬ë©´ ë¨)
ğŸ‘ğŸ» SPOFë¥¼ ì¤„ì—¬ì„œ ê°€ìš©ì„±ì„ í™•ë³´í•œ êµ¬ì¡° (ì„œë²„ 1ëŒ€ê°€ ì£½ë”ë¼ë„ ì„œë¹„ìŠ¤ ë‹¤ìš´ ì—†ì´ ë‹¤ë¥¸ ì„œë²„ê°€ ëŒ€ì²´í•  ìˆ˜ ìˆë‹¤.)

---

## ìºì‹œ
* ìºì‹œëŠ” CPUë¥¼ ë§ì´ ì‚¬ìš© í•˜ëŠ” ë°ì´í„°ë‚˜ DB I/Oë¥¼ ë§ì´ ì‚¬ìš©í•˜ëŠ” ë°ì´í„°ë¥¼ ë¯¸ë¦¬ ì €ì¥í•˜ì—¬ ì„±ëŠ¥ì„ í¬ê²Œ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆë‹¤!
* **TODO ìºì‹œ ì „ëµ ê³µë¶€í•´ì•¼í•¨!**
â€» [ì±…ì— ë‚˜ì˜¨ ìºì‹œ ì „ëµ Reference](https://codeahoy.com/2017/08/11/caching-strategies-and-how-to-choose-the-right-one/)

### ìºì‹œ ì‚¬ìš© ì‹œ ê³ ë ¤í•  ì 
* Cache Hitê°€ ë§ì´ ë  ë°ì´í„°ì¸ê°€? : ê°±ì‹ ì´ ë§ì§€ ì•Šì§€ë§Œ ì¡°íšŒê°€ ì¦ì€ ë°ì´í„°ì¸ê°€?
* ì˜ì†ì ìœ¼ë¡œ ë³´ê´€í•  ë°ì´í„°ëŠ” ìºì‹œì— ë‘ì§€ ì•Šì•„ì•¼ í•œë‹¤. -> ì„œë²„ ì‹œì‘ ì‹œ ìºì‹œê°€ ì´ˆê¸°í™”ë˜ë¯€ë¡œ ì˜ì†í™”ë  ë°ì´í„°ëŠ” DBì— ì €ì¥í•´ì•¼í•œë‹¤.
* **TTLì„ ì ì ˆíˆ ì„¤ê³„í•´ì•¼í•¨ -> ê°œì¸ì ìœ¼ë¡œ ìºì‹± TTLì„ ì–´ë–»ê²Œ ì¡ì„ì§€ ì•„ì§ì€ ì˜ ê°ì´ ì•ˆì˜´ (ê°ìœ¼ë¡œ í•¨)**
* ë°ì´í„°ì˜ ì¼ê´€ì„±ì´ ìœ ì§€ë˜ëŠ”ê°€? -> ë°ì´í„° ê°±ì‹  ì‹œ 'ìºì‹œ ê°±ì‹ 'ê³¼ DB ì—…ë°ì´íŠ¸'ê°€ í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ìœ¼ë¡œ ì›ìì„±ì„ ë³´ì¥í•  ìˆ˜ ìˆëŠ”ê°€?
  * [ì±…ì— ë‚˜ì˜¨ ìºì‹± ë°ì´í„° ì¼ê´€ì„± í˜ì´ìŠ¤ë¶ ë…¼ë¬¸](https://www.usenix.org/system/files/conference/nsdi13/nsdi13-final170_update.pdf)
 * **ë‹¨ì¼ ìºì‹± ì„œë²„ëŠ” SPOFê°€ ë¨ -> ìºì‹œ ì„œë²„ë¥¼ ë¶„ì‚°í•´ì•¼ í•˜ëŠ”ë°, ì´ë•Œ ë¶„ì‚°ëœ ìºì‹œ ì‚¬ì´ì˜ ë°ì´í„° ë™ê¸°í™”ëŠ” ì–´ë–»ê²Œ ë˜ëŠ”ì§€ ê¶ê¸ˆí•¨ (TODO ê³µë¶€í•´ì•¼í•¨)**
 * ìºì‹œ ë©”ëª¨ë¦¬ í• ë‹¹ ê¸°ì¤€ ? 
 * Eviction ì •ì±… : LRU / LFU / FIFO ?

## CDN
* CDNì€ ì •ì  ì½˜í…ì¸ ë¥¼ ìºì‹±í•˜ëŠ” ì„œë²„ì˜ ë„¤íŠ¸ì›Œí¬ (Content Delivery Network)
* ì¼ë°˜ì ìœ¼ë¡œ AWS í™˜ê²½ì˜ S3ì™€ ì—°ê³„í•˜ì—¬ ì‚¬ìš©í–ˆì—ˆë‹¤!
  * ì‚¬ë‚´ ì½”ë“œë¥¼ ê´€ë¦¬í•˜ëŠ” ì½”ë“œ ì‹œìŠ¤í…œì—ì„œ S3ë¡œ ì½”ë“œ ì‘ë‹µ JSONì„ ì €ì¥
  * í•´ë‹¹ JSONì„ Web ê³„ì¸µì—ì„œ ì‚¬ìš©ì ìš”ì²­ ì‹œë§ˆë‹¤ ì½ì–´ê°€ê²Œ ë˜ë©´ ë¶€í•˜ ë°œìƒ
  * CloudFront CDNì„ ì‚¬ìš©í•´ì„œ ì½”ë“œ ì‘ë‹µ JSONì„ ìºì‹±

```mermaid
graph TD
    %% 1. ìŠ¤íƒ€ì¼ ì •ì˜
    classDef clientFill fill:#E3F2FD,stroke:#1565C0,stroke-width:2px;
    classDef cdnFill fill:#E1BEE7,stroke:#4A148C,stroke-width:2px;
    classDef lbFill fill:#FFF9C4,stroke:#FBC02D,stroke-width:2px;
    classDef webFill fill:#F5F5F5,stroke:#616161,stroke-width:2px;
    classDef cacheFill fill:#FFECB3,stroke:#FF6F00,stroke-width:2px;
    classDef dbRwFill fill:#FFCCBC,stroke:#D84315,stroke-width:2px;
    classDef dbRoFill fill:#CFD8DC,stroke:#455A64,stroke-width:2px;

    %% 2. ì»´í¬ë„ŒíŠ¸ ì •ì˜
    Client["ğŸ“± Client"]:::clientFill
    CDN(("ğŸŒ CDN<br/>(Static Content)")):::cdnFill
    LB["âš–ï¸ Load Balancer"]:::lbFill

    %% ì›¹ ì„œë²„ ì˜ì—­
    subgraph Web_Cluster ["ğŸ–¥ï¸ Web Server Layer"]
        Web1["Web Server 1"]:::webFill
        Web2["Web Server 2"]:::webFill
    end

    %% ìºì‹œ ì˜ì—­ (ì‹ ê·œ ì¶”ê°€)
    subgraph Cache_Layer ["âš¡ Cache Layer"]
        Cache[("Redis / Memcached")]:::cacheFill
    end

    %% ë°ì´í„°ë² ì´ìŠ¤ ì˜ì—­
    subgraph DB_Cluster ["ğŸ—„ï¸ Data Layer"]
        direction TB
        DB_RW[("ğŸ”´ DB (RW)<br/>(CUD)")]:::dbRwFill
        DB_RO[("ğŸ”µ DB (RO)<br/>(Select)")]:::dbRoFill
    end

    %% 3. Flow ì—°ê²°
    %% CDN ì •ì  ì»¨í…ì¸  ìš”ì²­ (0ìˆœìœ„)
    Client -.->|"0. ì •ì  íŒŒì¼(Img/JS) ìš”ì²­"| CDN

    %% ë™ì  ë°ì´í„° ìš”ì²­
    Client -->|"1. API ìš”ì²­"| LB
    LB -->|"2. ë¶€í•˜ ë¶„ì‚°"| Web1
    LB --> Web2

    %% ìºì‹œ ì „ëµ (Look Aside)
    Web1 & Web2 <-->|"3. ìºì‹œ ì¡°íšŒ (Hit/Miss)"| Cache

    %% DB ì ‘ê·¼ (Cache Miss or Write)
    Web1 & Web2 -->|"4. ì“°ê¸° (Update) /<br/>ìºì‹œ Miss ì‹œ ì¡°íšŒ"| DB_RW
    Web1 & Web2 -.->|"5. ì½ê¸° (Select)"| DB_RO

    %% ë°ì´í„° ë™ê¸°í™”
    DB_RW ==>|"6. Replication"| DB_RO
```

* ì´ì „ ì•„í‚¤í…ì³ë¡œë¶€í„° ê°œì„ ì 
ğŸ‘ğŸ» ì •ì  ì½˜í…ì¸  ì„±ëŠ¥ ê°œì„  (CDN ìºì‹±)
ğŸ‘ğŸ» ìºì‹œ ê³„ì¸µì„ ë‘¬ì„œ DB ë¶€í•˜ ê°ì†Œ

---

## ë¬´ìƒíƒœ Web ê³„ì¸µ (Stateless)
* ë¶„ì‚° ì‹œìŠ¤í…œ, Scale Out í™˜ê²½ì—ì„œëŠ” Stateless ì•„í‚¤í…ì³ë¥¼ ë”°ë¼ì•¼ í•œë‹¤.
â€» **State? : ì—¬ê¸°ì„œ ìƒíƒœ ì •ë³´ë€, ì‚¬ìš©ì ì„¸ì…˜ ë°ì´í„°ì™€ ê°™ì€ ì‚¬ìš©ìì˜ ì´ì „ ìš”ì²­ ì •ë³´**

* Stateful í•˜ë‹¤ë©´
  * ì‚¬ìš©ì ì •ë³´ë¥¼ ì„œë²„ë³„ë¡œ ê°€ì§„ë‹¤.
  * íŠ¹ì • ì„œë²„ê°€ ë‹¤ìš´ë˜ë©´ ì‚¬ìš©ì ì •ë³´ëŠ” ì‚­ì œëœë‹¤.
    * ìœ ì§€ë˜ê²Œ í•˜ë ¤ë©´ ë¡œë“œ ë°¸ëŸ°ì„œì˜ Sticky Session(í´ë¼ì´ì–¸íŠ¸ë³„ ì„¸ì…˜ ê³ ì •)ì„ ì‚¬ìš©í•´ì•¼ í•˜ëŠ”ë° ì´ëŠ” ë¶€í•˜ ë¶„ì‚°ì˜ ì˜ë¯¸ê°€ ì—†ì–´ì§
  * **ë”°ë¼ì„œ, ì´ì „ ì‚¬ìš©ì ContextëŠ” ë³„ë„ ì €ì¥ì†Œì— ì €ì¥í•˜ê³  Statelessë¥¼ í•˜ì—¬ í™•ì¥ì— ì—´ë ¤ìˆì–´ì•¼ í•œë‹¤.** 

---
## ë°ì´í„° ì„¼í„°
* ì¼ë°˜ì ìœ¼ë¡œ í˜„ì¬ ì¶”ì„¸ê°€ IDC, On-Premise í™˜ê²½ì—ì„œ Cloud í™˜ê²½ìœ¼ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜í•˜ëŠ” ì¶”ì„¸,,, ì ì–´ë„ ì§€ê¸ˆ íšŒì‚¬ëŠ” ê·¸ëŸ¼ ã…ã…,, ê·¸ë˜ì„œ í•´ë‹¹ ì¥ì€ íŒ¨ì“°

---
## ë©”ì‹œì§€ í
* **ë©”ì‹œì§€ë¥¼ ë°œí–‰í•˜ë©´, í•´ë‹¹ ë©”ì‹œì§€ íì— ìŒ“ì¸ ë©”ì‹œì§€ëŠ” ì†ì‹¤ë˜ì§€ ì•ŠìŒì„ ë³´ì¥í•˜ëŠ” ë¹„ë™ê¸° í†µì‹  ì»´í¬ë„ŒíŠ¸**
* ë©”ì‹œì§€ë¥¼ ë°œí–‰í•˜ëŠ” Producer/Publisher, ë©”ì‹œì§€ë¥¼ ì†Œë¹„í•˜ëŠ” Consumer/Subscriber ê°œë… ì¡´ì¬
* **ğŸš€ ë©”ì‹œì§€ íë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ **
  * ì‚¬ìš©ìì˜ ìš”ì²­ì„ ë°›ëŠ” ì„œë²„ì—ì„œ ì‘ì—… ë©”ì‹œì§€ë¥¼ ë°œí–‰í•˜ê³ , ë©”ì‹œì§€ë¥¼ ì†Œë¹„í•˜ì—¬ ì‹¤ì œ ì‘ì—…ì„ ì²˜ë¦¬í•˜ëŠ” Worker ì„œë²„ ì±…ì„ì„ ë¶„ë¦¬í•  ìˆ˜ ìˆë‹¤.
    * ì±…ì„ì´ ë¶„ë¦¬ë¨ì— ë”°ë¼ ê²°í•©ì´ ëŠìŠ¨í•´ì§€ê³ , ì‘ì—… ì²˜ë¦¬ëŸ‰ì„ ëŠ˜ë¦¬ê³  ì‹¶ì„ ë•Œ í•´ë‹¹ Worker ì„œë²„ë§Œ Scale Out í•  ìˆ˜ ìˆë‹¤.
    * ë¶„ì‚° ì‹œìŠ¤í…œ í™˜ê²½ì—ì„œ ì‹œìŠ¤í…œ ê°„ì˜ ê²°í•©ì„ ì¤„ì—¬ì¤€ë‹¤. (íšŒì› ì‘ì—… ì‹œ íšŒì› ì‹œìŠ¤í…œì€ ë‹¨ìˆœ ë©”ì‹œì§€ë§Œ ë°œí–‰í•˜ê³ , ë‹¤ë¥¸ ë„ë©”ì¸ ì‹œìŠ¤í…œì—ì„œ ë©”ì‹œì§€ë¥¼ ë°›ì•„ì„œ ì²˜ë¦¬í•  ìˆ˜ ìˆì–´ì„œ ê²°í•©ì´ ëŠìŠ¨í•´ì§„ë‹¤.)
    * ê·¸ì— ë”°ë¼ ì¥ì•  ì „íŒŒë„ ë§‰ëŠ”ë‹¤!

---
## ë¡œê·¸, ë©”íŠ¸ë¦­, ìë™í™”
* í˜„ì¬ ì‚¬ë‚´ì—ì„œëŠ” ë¡œê·¸, ë©”íŠ¸ë¦­ íˆ´ìœ¼ë¡œ `OpenTelemetry` ì‚¬ìš©
  * Java Spring Applicationì— OpenTelemetryì˜ `javaagent`ë¥¼ ì‚¬ìš©í•´ì„œ ìš”ì²­ ì‹œë§ˆë‹¤ ìë™ìœ¼ë¡œ Trace, Log ìƒì„±
  * OpenTelemetryì˜ í‘œì¤€ Otel Specìœ¼ë¡œ ë¡œê·¸, ë©”íŠ¸ë¦­ì„ ì „ë‹¬í•˜ê³  Prometheus, Clickhouse ë“±ì— ì ì¬
* ìë™í™” (CI)ë¡œëŠ” gitlab-ci, jenkins ì‚¬ìš©

```mermaid
graph TD
    %% 1. ìŠ¤íƒ€ì¼ ì •ì˜
    classDef clientFill fill:#E3F2FD,stroke:#1565C0,stroke-width:2px;
    classDef cdnFill fill:#E1BEE7,stroke:#4A148C,stroke-width:2px;
    classDef lbFill fill:#FFF9C4,stroke:#FBC02D,stroke-width:2px;
    classDef webFill fill:#F5F5F5,stroke:#616161,stroke-width:2px;
    
    %% MQ ìƒ‰ìƒ (ë¶„í™ìƒ‰)
    classDef mqFill fill:#F8BBD0,stroke:#C2185B,stroke-width:2px;
    %% Worker ìƒ‰ìƒ (ì²­ë¡ìƒ‰)
    classDef workerFill fill:#E0F2F1,stroke:#00695C,stroke-width:2px;
    
    classDef cacheFill fill:#FFECB3,stroke:#FF6F00,stroke-width:2px;
    classDef dbRwFill fill:#FFCCBC,stroke:#D84315,stroke-width:2px;
    classDef dbRoFill fill:#CFD8DC,stroke:#455A64,stroke-width:2px;
    
    %% Ops ìƒ‰ìƒ
    classDef opsFill fill:#ECEFF1,stroke:#455A64,stroke-width:2px,stroke-dasharray: 5 5;

    %% 2. ì»´í¬ë„ŒíŠ¸ ì •ì˜
    Client["ğŸ“± Client"]:::clientFill
    CDN(("ğŸŒ CDN")):::cdnFill
    LB["âš–ï¸ Load Balancer"]:::lbFill

    %% Web Server Layer (API ì²˜ë¦¬)
    subgraph Web_Cluster ["ğŸ–¥ï¸ Web Server Layer (Producer)"]
        Web1["Web Server 1"]:::webFill
        Web2["Web Server 2"]:::webFill
    end

    %% Message Queue (ë¹„ë™ê¸° ë²„í¼)
    subgraph MQ_Layer ["ğŸ“¨ Message Queue"]
        MQ[("Kafka / RabbitMQ")]:::mqFill
    end

    %% Worker Server Layer (ë°±ê·¸ë¼ìš´ë“œ ì²˜ë¦¬)
    subgraph Worker_Cluster ["âš™ï¸ Worker Server Layer (Consumer)"]
        Worker1["Worker Server 1"]:::workerFill
        Worker2["Worker Server 2"]:::workerFill
    end

    %% Cache & Data Layer
    subgraph Data_System ["ğŸ’¾ Data System"]
        Cache[("âš¡ Cache (Redis)")]:::cacheFill
        
        subgraph DB_Group ["Database"]
            direction TB
            DB_RW[("ğŸ”´ DB (RW)")]:::dbRwFill
            DB_RO[("ğŸ”µ DB (RO)")]:::dbRoFill
        end
    end

    %% Observability & CI/CD Layer (í†µí•© ê´€ì œ)
    subgraph Ops_Layer ["ğŸ› ï¸ Monitoring & DevOps"]
        Logging[("ğŸ“ Logging<br/>(ELK/Loki)")]:::opsFill
        Metrics[("ğŸ“ˆ Metrics<br/>(Prometheus/Grafana)")]:::opsFill
        CI[("ğŸš€ CI/CD<br/>(Jenkins/Github Actions)")]:::opsFill
    end

    %% 3. Flow ì—°ê²°
    %% Client -> Web
    Client -.-> CDN
    Client --> LB
    LB --> Web1 & Web2

    %% Web -> Cache/DB (ì‹¤ì‹œê°„ ì²˜ë¦¬)
    Web1 & Web2 <--> Cache
    Web1 & Web2 -.-> DB_RO

    %% Web -> MQ (ë¹„ë™ê¸° ìš”ì²­ ë°œí–‰)
    Web1 & Web2 --"Async Event<br/>(Publish)"--> MQ

    %% MQ -> Worker (ì‘ì—… ì†Œë¹„)
    MQ --"Subscribe"--> Worker1 & Worker2

    %% Worker -> DB (ë¬´ê±°ìš´ ì“°ê¸° ì‘ì—…)
    Worker1 & Worker2 -->|"Batch/Write"| DB_RW

    %% DB Replication
    DB_RW ==> DB_RO

    %% Telemetry Flow (ëª¨ë“  ì„œë²„ -> Ops)
    Web_Cluster & Worker_Cluster & Data_System -.->|"Logs & Metrics"| Ops_Layer
```

---
## DB Scale Up / Scale Out
* DBë„ ì‚¬ìš©ìê°€ ë§ì•„ì§€ë©´ ê²°êµ­ ìºì‹±ìœ¼ë¡œëŠ” ë¶€í•˜ ë¶„ì‚°ì´ í•œê³„ê°€ ìˆê¸° ë•Œë¬¸ì— í™•ì¥ì„ ê³ ë ¤í•´ì•¼ í•œë‹¤.
* DBë„ ë§ˆì°¬ê°€ì§€ë¡œ Scale Upì€ ë¬´í•œëŒ€ë¡œ í™•ì¥í•˜ê¸° í•œê³„ê°€ ìˆê¸° ë•Œë¬¸ì— Scale Outì„ ì‚¬ìš©í•œë‹¤.
* DB Scale Outì€ ì¼ë°˜ì ìœ¼ë¡œ ìƒ¤ë”©ì„ ì‚¬ìš©í•œë‹¤.

* [ìš°ì•„ì½˜ 2023 ìƒ¤ë”© ë‚´ìš© ìˆëŠ” ë°œí‘œ ì˜ìƒ(14m 14s ~ 25m 37s](https://www.youtube.com/watch?v=704qQs6KoUk&t=1758s)
* ì‹¤ë¬´ì—ì„œëŠ” ìƒ¤ë”© ëŒ€ì‹  íŒŒí‹°ì…”ë‹ì„ ì‚¬ìš©í•´ë´¤ìŒ.
  * íŒŒí‹°ì…”ë‹ì€ DBë¥¼ Scale Outí•˜ëŠ” ê²ƒì´ ì•„ë‹Œ í•˜ë‚˜ì˜ DB Serverì˜ í…Œì´ë¸”ì„ ë¬¼ë¦¬ì ìœ¼ë¡œ íŒŒí‹°ì…”ë‹ í…Œì´ë¸”ë¡œ ë¶„ë¦¬í•˜ê³  CRUD ì‹œ ë…¼ë¦¬ì ìœ¼ë¡œ í•©ì¹¨
* ìƒ¤ë”© ì ìš© ì‹œì—ë„ ë¶€ì‘ìš©ì´ ì¡´ì¬í•˜ë¯€ë¡œ ì¡°ì‹¬íˆ ì‚¬ìš©í•´ì•¼í•¨.
* TODO: ìƒ¤ë”© ì •ë¦¬í•˜ê¸° ã…ã…..

```mermaid
graph TD
    %% --- 1. ì»´í¬ë„ŒíŠ¸ ì •ì˜ ---
    Client["ğŸ“± Client"]
    CDN(("ğŸŒ CDN"))
    LB["âš–ï¸ Load Balancer"]

    %% Web Layer
    subgraph Web_Cluster ["ğŸ–¥ï¸ Web Server Layer"]
        Web1["Web Server 1"]
        Web2["Web Server 2"]
    end

    %% MQ Layer
    subgraph MQ_Layer ["ğŸ“¨ Message Queue"]
        MQ[("Kafka / RabbitMQ")]
    end

    %% Worker Layer
    subgraph Worker_Cluster ["âš™ï¸ Worker Server Layer"]
        Worker1["Worker Server 1"]
        Worker2["Worker Server 2"]
    end

    %% Data Layer (Cache + Sharded DB)
    subgraph Data_System ["ğŸ’¾ Data System"]
        Cache[("âš¡ Cache (Redis)")]
        
        %% ìƒ¤ë”©ëœ DB (Scale-Out)
        subgraph Sharded_DB ["ğŸš€ Sharded Database Cluster"]
            direction TB
            
            subgraph Shard_A ["Shard A (User 0-N)"]
                DB_RW_A[("ğŸ”´ DB A (RW)")]
                DB_RO_A[("ğŸ”µ DB A (RO)")]
            end

            subgraph Shard_B ["Shard B (User N-Z)"]
                DB_RW_B[("ğŸ”´ DB B (RW)")]
                DB_RO_B[("ğŸ”µ DB B (RO)")]
            end
        end
    end

    %% Ops Layer
    subgraph Ops_Layer ["ğŸ› ï¸ Monitoring & DevOps"]
        Logging[("ğŸ“ Logging (ELK)")]
        Metrics[("ğŸ“ˆ Metrics (Prometheus)")]
        CI[("ğŸš€ CI/CD (Jenkins)")]
    end

    %% --- 2. Flow ì—°ê²° ---
    %% Client -> Web
    Client -.-> CDN
    Client --> LB
    LB --> Web1 & Web2

    %% Web -> Cache
    Web1 & Web2 <--> Cache

    %% Web -> DB (Sharded Read/Write)
    Web1 & Web2 -.->|"Read (Shard Key)"| DB_RO_A & DB_RO_B
    
    %% Web -> MQ (Async)
    Web1 & Web2 --"Publish Event"--> MQ

    %% MQ -> Worker
    MQ --"Subscribe"--> Worker1 & Worker2

    %% Worker -> DB (Sharded Write)
    Worker1 & Worker2 -->|"Write (Shard Key)"| DB_RW_A & DB_RW_B

    %% DB Replication (Internal)
    DB_RW_A ==> DB_RO_A
    DB_RW_B ==> DB_RO_B

    %% Observability
    Web_Cluster & Worker_Cluster & Data_System -.-> Ops_Layer

    %% --- 3. ìŠ¤íƒ€ì¼ ì •ì˜ ë° ì ìš© (ì•ˆì „í•œ ë°©ì‹) ---
    classDef clientFill fill:#E3F2FD,stroke:#1565C0,stroke-width:2px;
    classDef cdnFill fill:#E1BEE7,stroke:#4A148C,stroke-width:2px;
    classDef lbFill fill:#FFF9C4,stroke:#FBC02D,stroke-width:2px;
    classDef webFill fill:#F5F5F5,stroke:#616161,stroke-width:2px;
    classDef mqFill fill:#F8BBD0,stroke:#C2185B,stroke-width:2px;
    classDef workerFill fill:#E0F2F1,stroke:#00695C,stroke-width:2px;
    classDef cacheFill fill:#FFECB3,stroke:#FF6F00,stroke-width:2px;
    classDef dbRwFill fill:#FFCCBC,stroke:#D84315,stroke-width:2px;
    classDef dbRoFill fill:#CFD8DC,stroke:#455A64,stroke-width:2px;
    classDef opsFill fill:#ECEFF1,stroke:#455A64,stroke-width:2px,stroke-dasharray: 5 5;

    %% í´ë˜ìŠ¤ ì ìš©
    class Client clientFill;
    class CDN cdnFill;
    class LB lbFill;
    class Web1,Web2 webFill;
    class MQ mqFill;
    class Worker1,Worker2 workerFill;
    class Cache cacheFill;
    class DB_RW_A,DB_RW_B dbRwFill;
    class DB_RO_A,DB_RO_B dbRoFill;
    class Logging,Metrics,CI opsFill;
```

---

## ì •ë¦¬
* ì‚¬ìš©ìê°€ í™•ëŒ€ë  ë•Œ ì–´ë– í•œ ìš”ì†Œë¥¼ ê³ ë ¤í•´ì•¼ í•˜ëŠ”ê°€?
  * **ê¸°ë³¸ì ìœ¼ë¡œ ì„œë²„ì˜ Scale Outì„ ê³ ë ¤í•´ì•¼ í•œë‹¤.**  
    * **ê° ì„œë²„ë³„ë¡œ ì±…ì„ ë¶„ë¦¬ê°€ ì´ë£¨ì–´ì ¸ì•¼ í•œë‹¤. -> ì±…ì„ ë¶„ë¦¬ê°€ ì´ë£¨ì–´ì ¸ì•¼ Scale Outì„ íš¨ìœ¨ì ìœ¼ë¡œ í•  ìˆ˜ ìˆë‹¤.**
      * DB Server
      * ì‚¬ìš©ì Web Server(API Server)
      * ì‘ì—… ì²˜ë¦¬ Worker Server
    * ê° ê³„ì¸µë³„ Scale Out ë°©ë²•
      * ì¼ë°˜ì ì¸ WAS : Statelessë¡œ ì„¤ê³„, ì• ë‹¨ì˜ ë¡œë“œë°¸ëŸ°ì„œë¥¼ ë‘ê³  ë¶€í•˜ ë¶„ì‚° ì²˜ë¦¬
      * DB : ìƒ¤ë”©  
  * **íŠ¹ì • ì‹œìŠ¤í…œì„ í†µí•´ ë¶€í•˜ë¥¼ ë¶„ì‚° ì‹œí‚¤ê¸°**
    * ìºì‹± : ìì£¼ ì¡°íšŒë˜ëŠ” ë°ì´í„°ë¥¼ ìºì‹±í•˜ì—¬ DB ë¶€í•˜ë‚˜ ì„œë²„ì˜ CPU ë¶€í•˜ë¥¼ ë¶„ì‚°ì‹œí‚¬ ìˆ˜ ìˆë‹¤.
    * CDN : ì •ì  ì½˜í…ì¸ ë¥¼ ë¡œë”©í•˜ëŠ” ë¶€í•˜ë¥¼ ì¤„ì¼ ìˆ˜ ìˆë‹¤.
    * Message Queue : ë¹„ë™ê¸°ë¡œ ì²˜ë¦¬í•˜ëŠ” ì‘ì—…ìœ¼ë¡œ ì‘ì—… ë¶€í•˜ë¥¼ ì¤„ì´ê³ (ë©”ì‹œì§€ë§Œ ë°œí–‰) ë¹„ë™ê¸°ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤. (++ ì‹œìŠ¤í…œ ê²°í•©ë„ ê°ì†Œ)

---
## TODO
* **TODO ìºì‹œ ì „ëµ ê³µë¶€í•´ì•¼í•¨!**
â€» [ì±…ì— ë‚˜ì˜¨ ìºì‹œ ì „ëµ Reference](https://codeahoy.com/2017/08/11/caching-strategies-and-how-to-choose-the-right-one/)

* **ë‹¨ì¼ ìºì‹± ì„œë²„ëŠ” SPOFê°€ ë¨ -> ìºì‹œ ì„œë²„ë¥¼ ë¶„ì‚°í•´ì•¼ í•˜ëŠ”ë°, ì´ë•Œ ë¶„ì‚°ëœ ìºì‹œ ì‚¬ì´ì˜ ë°ì´í„° ë™ê¸°í™”ëŠ” ì–´ë–»ê²Œ ë˜ëŠ”ì§€ ê¶ê¸ˆí•¨ (TODO ê³µë¶€í•´ì•¼í•¨)**

* **TODO: ìƒ¤ë”© ì •ë¦¬í•˜ê¸° ã…ã…..**

* **TODO NoSQL í™œìš© ì‚¬ë¡€ ê³µë¶€í•´ì•¼í•¨!** 


